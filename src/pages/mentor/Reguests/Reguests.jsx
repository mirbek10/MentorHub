import React, { useState } from "react";
import { Search } from "lucide-react";
import icon12 from "../../../../public/assets/svg/icon12.svg"
import icon13 from "../../../../public/assets/svg/icon13.svg"
import "./RequestsComponent.css";

const Requests = () => {
  const [currentTab, setCurrentTab] = useState("new");
  const [currentPage, setCurrentPage] = useState(1);
  const itemsPerPage = 4;

  const mockRequests = [
    { id: 1, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 2, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 3, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "approved" },
    { id: 4, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 5, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "approved" },
    { id: 6, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 7, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "approved" },
    { id: 8, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 1, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 2, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 3, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "approved" },
    { id: 4, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 5, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "approved" },
    { id: 6, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
    { id: 7, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "approved" },
    { id: 8, name: "–ù—É—Ä–ª–∞–Ω –ö–∞–ø—ã—Ä–æ–≤", desc: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ 2‚Äì3 –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–≤–µ—Ç—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤", status: "new" },
  ];

  const filtered = mockRequests.filter((r) => r.status === currentTab);
  const totalPages = Math.ceil(filtered.length / itemsPerPage);
  const start = (currentPage - 1) * itemsPerPage;
  const visible = filtered.slice(start, start + itemsPerPage);

  return (
    <div className="requests">
      {/* –ü–æ–∏—Å–∫ */}
      <div className="search-box">
        <div className="input-wrapper">
          <Search size={20} className="search-icon" />
          <input type="text" placeholder="–ü–æ–∏—Å–∫ –∑–∞–ø—Ä–æ—Å–∞" />
        </div>
        <span className="total">–í—Å–µ–≥–æ: {mockRequests.length}</span>
      </div>

      {/* –í–∫–ª–∞–¥–∫–∏ */}
      <div className="tabs">
        <button
          className={`tab ${currentTab === "new" ? "active" : ""}`}
          onClick={() => {
            setCurrentTab("new");
            setCurrentPage(1);
          }}
        >
          –ù–æ–≤—ã–µ
        </button>
        <button
          className={`tab ${currentTab === "approved" ? "active" : ""}`}
          onClick={() => {
            setCurrentTab("approved");
            setCurrentPage(1);
          }}
        >
          –û–¥–æ–±—Ä–µ–Ω–æ
        </button>
      </div>

      {/* –°–ø–∏—Å–æ–∫ */}
      <div className="requests-list">
        {visible.map((req, index) => (
          <div key={`${req.id}-${index}`} className="request">
            <div className="user">
              <div className="avatar">üë©‚Äçüíª</div>
              <div>
                <h3>{req.name}</h3>
                <p>{req.desc}</p>
              </div>
            </div>
            <div className="actions">
              <button className="blue"></button>
              <button className="gray"></button>
              <button className="red"></button>
            </div>
          </div>
        ))}
      </div>

      {/* –ü–∞–≥–∏–Ω–∞—Ü–∏—è */}
      {totalPages > 1 && (
        <div className="pagination">
            <div>
          {[...Array(totalPages)].map((_, i) => (
            <button
              key={i}
              className={`page-num ${currentPage === i + 1 ? "active" : ""}`}
              onClick={() => setCurrentPage(i + 1)}
            >
              {i + 1}
            </button>
          ))}
            </div>
          <div>
           <button
            className="page-arrow"
            onClick={() => setCurrentPage((p) => Math.max(p - 1, 1))}
            disabled={currentPage === 1}
          >
            <img src={icon12} alt="" />
          </button>
          <button
            className="page-arrow"
            onClick={() => setCurrentPage((p) => Math.min(p + 1, totalPages))}
            disabled={currentPage === totalPages}
          >
           <img src={icon13} alt="" />
          </button>
          </div>
        </div>
      )}
    </div>
  );
};

export default Requests;
